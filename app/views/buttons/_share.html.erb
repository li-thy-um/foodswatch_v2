<% style ||= "" %>
<% user = current_user || User.new %>
<% if user.sharing?(post) %>
  <%= link_to post.shared_by(user),
    remote: :true,
    method: :delete,
    id: "share_action_btn_#{post.id}",
    class: "btn btn-action btn-primary",
    title: "已分享",
    style: style,
    data: { confirm: "取消分享？" } do %>
    <span>取消分享</span>
  <% end %>
<% else %>
  <a id="share_action_btn_<%=post.id%>"
    style="<%=style%>"
    class="btn btn-action btn-primary"
    data-target="#share_modal_<%=post.id%>"
    data-toggle="modal">
    <span>分享</span>
  </a>
<% end %>
